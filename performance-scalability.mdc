---
description: Performance and scalability requirements from the start
alwaysApply: true
---

# Performance and Scalability

Design for performance and scalability from day one.

## Requirements

- **Code must be performant from the get-go** - No "we'll optimize later"
- **Design for growth** - Start with one team, but code should scale
- **Database queries** - Use select_related/prefetch_related, avoid N+1 queries
- **Caching strategy** - Use Redis for frequently accessed data
- **API response times** - Optimize endpoints for speed

## Scalability Considerations

- **Stateless design** - Backend should be horizontally scalable
- **Efficient queries** - Index database fields appropriately
- **Pagination** - Implement for list endpoints

## Examples

```python
# ❌ BAD - N+1 query problem
tasks = Task.objects.all()
for task in tasks:
    print(task.user.email)  # Queries database for each task

# ✅ GOOD - Optimized query
tasks = Task.objects.select_related('user').all()
for task in tasks:
    print(task.user.email)  # No additional queries
```

```python
# ✅ GOOD - Caching
from django.core.cache import cache

def get_team_members(team_id):
    cache_key = f"team:{team_id}:members"
    members = cache.get(cache_key)
    if members is None:
        members = list(TeamMembership.objects.filter(team_id=team_id))
        cache.set(cache_key, members, timeout=300)
    return members
```
